(this["webpackJsonptodo-test"]=this["webpackJsonptodo-test"]||[]).push([[0],{21:function(e,t,n){e.exports=n(33)},26:function(e,t,n){},27:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},28:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),c=n(16),r=n.n(c),i=(n(26),n(1)),u=(n(27),n(28),n(2)),l=n(20),d=n(3),f=n(7);n(29);f.initializeApp({apiKey:"AIzaSyD4_tvbrmIfUpkEu97g14l7Z4-ybSj5X1I",authDomain:"todo-test-bec8a.firebaseapp.com",databaseURL:"https://todo-test-bec8a.firebaseio.com",projectId:"todo-test-bec8a",storageBucket:"todo-test-bec8a.appspot.com",messagingSenderId:"483343130388",appId:"1:483343130388:web:4cc8315b96e3bf1dbaec01"});var s=f.firestore(),m=s.collection("todos"),v=Object(o.createContext)({todos:[],todoCount:0,completedTodoCount:0,loading:!0,toggleTodo:function(){},addTodo:function(){},removeTodo:function(){},clearTodos:function(){}}),b=function(e){var t=e.children,n=Object(o.useState)(!0),c=Object(d.a)(n,2),r=c[0],i=c[1],u=Object(o.useState)([]),f=Object(d.a)(u,2),b=f[0],h=f[1],p=Object(o.useState)(0),g=Object(d.a)(p,2),E=g[0],j=g[1],k=Object(o.useState)(0),x=Object(d.a)(k,2),T=x[0],O=x[1];return Object(o.useEffect)((function(){return m.onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(Object(l.a)({id:e.id},e.data()))})),h(t),i(!1)}))}),[]),Object(o.useEffect)((function(){j(b.length),O(b.filter((function(e){return e.checked})).length)}),[b]),a.a.createElement(v.Provider,{value:{todos:b,todoCount:E,completedTodoCount:T,loading:r,toggleTodo:function(e){var t=b.find((function(t){return t.id==e}));m.doc(e).set({title:t.title,checked:!t.checked,id:e})},addTodo:function(e){m.add({title:e,checked:!1})},removeTodo:function(e){m.doc(e).delete()},clearTodos:function(){var e=s.batch();b.filter((function(e){return e.checked})).forEach((function(t){var n=m.doc(t.id);e.delete(n)})),e.commit()}}},t)};function h(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 20px;\n    background-color: grey;\n"]);return h=function(){return e},e}var p=u.a.div(h()),g=function(){var e=a.a.useContext(v),t=e.todoCount,n=e.completedTodoCount;return a.a.createElement(p,null,a.a.createElement("h1",null,"Todos"),a.a.createElement("h3",null,n," / ",t," completed"))};function E(){var e=Object(i.a)(["\n    border: 1px solid black;\n    width: 20px;\n    height: 20px;\n    background-color: ","\n"]);return E=function(){return e},e}function j(){var e=Object(i.a)(["\n    display: flex;\n    align-items: center;\n    &>* {\n        margin-right: 10px;\n    }\n"]);return j=function(){return e},e}var k=u.a.div(j()),x=u.a.div(E(),(function(e){return e.checked?"green":"white"})),T=function(e){var t=e.todo,n=e.onCheckboxToggle,o=e.onRemoveTodo,c=t.title,r=t.checked,i=t.id;return a.a.createElement(k,null,a.a.createElement(x,{checked:r,onClick:function(){return n(i)}}),a.a.createElement("p",null,c),a.a.createElement("button",{onClick:function(){return o(i)}},"X"))};function O(){var e=Object(i.a)(["\n    float: right;\n"]);return O=function(){return e},e}function y(){var e=Object(i.a)(["\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n"]);return y=function(){return e},e}var C=u.a.div(y()),w=u.a.button(O()),S=function(){var e=a.a.useContext(v),t=e.todos,n=e.loading,o=e.addTodo,c=e.removeTodo,r=e.toggleTodo,i=e.clearTodos,u=a.a.useState(""),l=Object(d.a)(u,2),f=l[0],s=l[1],m=function(e){r(e)},b=function(e){c(e)};return a.a.createElement(C,null,n?a.a.createElement("p",null,"Loading..."):a.a.createElement(a.a.Fragment,null,0==t.length?a.a.createElement("p",null,"You have no todos today. Add one!"):a.a.createElement("h3",null,"Todos for today"),a.a.createElement("div",null,t.map((function(e){return a.a.createElement(T,{todo:e,onCheckboxToggle:m,onRemoveTodo:b,key:e.id})}))),a.a.createElement("div",null,a.a.createElement("input",{type:"text",value:f,onChange:function(e){s(e.target.value)}}),a.a.createElement("button",{onClick:function(){""!=f&&o(f),s("")}},"Add"),a.a.createElement(w,{onClick:function(){i()}},"Clear all"))))};function I(){var e=Object(i.a)(["\n  width: 100vw;\n  max-width: 50rem;\n  height: 100vh;\n  border: 1px solid grey;\n"]);return I=function(){return e},e}function A(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n"]);return A=function(){return e},e}var B=u.a.div(A()),R=u.a.div(I());var z=function(){return a.a.createElement(B,null,a.a.createElement(R,null,a.a.createElement(g,null),a.a.createElement(S,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(b,null,a.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.97e54e3d.chunk.js.map